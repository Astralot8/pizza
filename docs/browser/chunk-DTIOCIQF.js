import{a as Q}from"./chunk-JHCGCJJE.js";import{a as it}from"./chunk-CVWUAC72.js";import{b as tt,j as et,l as N,m as j,o as H,p as ot}from"./chunk-DZ3GLSQK.js";import{Ab as R,Cb as K,Gb as g,Ia as J,Rb as a,Wb as r,Wc as Y,Xb as n,Xc as I,Yb as u,Zc as D,_c as Z,ba as W,dc as O,gc as F,ha as $,hc as X,ia as S,ic as b,jc as C,kb as w,kc as v,lc as x,ma as G,mc as d,ob as p,oc as y,tb as m,tc as k,uc as M,vc as _,wc as B,xc as z,yc as h,zb as f}from"./chunk-WTHNNU3O.js";var ut=["second"],s=class t{title="";second;toUpper(){return this.title.toUpperCase()}toLower(){return this.title.toLowerCase()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["custom-title"]],contentQueries:function(e,o,c){if(e&1&&X(c,ut,5),e&2){let l;C(l=v())&&(o.second=l.first)}},inputs:{title:"title"},standalone:!1,decls:2,vars:1,consts:[[1,"product-title"]],template:function(e,o){e&1&&(r(0,"div",0),d(1),n()),e&2&&(p(),y(" ",o.title,`
`))},styles:[".product-title[_ngcontent-%COMP%]{font-size:18px;font-family:MullerBold,sans-serif;color:#382400}"]})};var E=class t{transform(i,e){let o=i;return e.forEach(c=>{o=o.replace(new RegExp("[\u0410-\u042F\u0430-\u044F]*"+c+"[\u0430-\u044F]*","g"),l=>l.toUpperCase())}),o}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=K({name:"wordUpper",type:t,pure:!0,standalone:!1})};var mt=()=>["\u0442\u043E\u043C\u0430\u0442","\u0441\u044B\u0440","\u0441\u043E\u0441","\u0430\u0440"],st=t=>({product:t});function lt(t,i){t&1&&u(0,"div")}function ft(t,i){if(t&1&&(r(0,"div",12),u(1,"img",13),n()),t&2){let e=O();p(),F("src",e.product.image,w)}}function gt(t,i){t&1&&(r(0,"div",12),u(1,"img",14),n())}var U=class t{constructor(i,e,o){this.activatedRoute=i;this.productService=e;this.router=o;this.product={id:0,image:"",title:"",description:"",datetime:""}}titleComponent;product;ngOnInit(){this.activatedRoute.params.subscribe(i=>{if(i.id){let e=this.productService.getProduct(+i.id).subscribe({next:o=>{this.product=o},error:o=>{this.router.navigate(["/"])}})}})}static \u0275fac=function(e){return new(e||t)(m(et),m(Q),m(N))};static \u0275cmp=f({type:t,selectors:[["app-product"]],viewQuery:function(e,o){if(e&1&&b(s,5),e&2){let c;C(c=v())&&(o.titleComponent=c.first)}},standalone:!1,decls:20,vars:14,consts:[["productImageBlock",""],["defaultImageBlock",""],["elem",""],[1,"products"],[1,"container"],["id","products-title",1,"products-title"],[1,"product-item-comp"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"title"],[1,"product-text"],[1,"product-action"],["routerLink","/order",1,"btn","btn-add-to-cart",3,"queryParams"],[1,"product-image"],[3,"src"],["src","assets/images/pizzzzza.png"]],template:function(e,o){if(e&1&&(r(0,"section",3)(1,"article",4)(2,"h1",5),d(3," \u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0438\u0446\u0446\u044B "),n(),r(4,"div",6)(5,"div"),g(6,lt,1,0,"div",7)(7,ft,2,1,"ng-template",null,0,h)(9,gt,2,0,"ng-template",null,1,h),u(11,"custom-title",8),_(12,"uppercase"),r(13,"div",9),d(14),_(15,"wordUpper"),n(),r(16,"div",10,2)(18,"a",11),d(19,"\u0412 \u043A\u043E\u0440\u0437\u0438\u043D\u0443"),n()()()()()()),e&2){let c=x(8),l=x(10);p(6),a("ngIf",o.product.image)("ngIfThen",c)("ngIfElse",l),p(5),a("title",B(12,6,o.product.title)),p(3),y(" ",z(15,8,o.product.description,k(11,mt))," "),p(4),a("queryParams",M(12,st,o.product.title))}},dependencies:[I,s,j,D,E],styles:[".product-item-comp[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.product-item-comp[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;margin-top:10px}.product-text[_ngcontent-%COMP%]{font-size:14px;color:#181a1a;line-height:1.286;height:49px;margin:14px 0 15px;text-align:center}.product-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:242px;height:50px;padding:18px}.product-action[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-action[_ngcontent-%COMP%]   .btn.btn-white[_ngcontent-%COMP%]{margin-top:10px}"]})};var L=class t{constructor(i){this.cartService=i}count=0;static \u0275fac=function(e){return new(e||t)(G(it))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var vt=["elem"],Pt=()=>["\u0442\u043E\u043C\u0430\u0442","\u0441\u044B\u0440","\u0441\u043E\u0441","\u0430\u0440"],xt=t=>({product:t}),yt=t=>["/products",t];function _t(t,i){t&1&&u(0,"div")}function ht(t,i){if(t&1&&(r(0,"div",10),u(1,"img",11),n()),t&2){let e=O();p(),F("src",e.product.image,w)}}function It(t,i){t&1&&(r(0,"div",10),u(1,"img",12),n())}var q=class t{constructor(i){this.cartProductService=i;this.product={id:0,image:"",title:"",description:"",datetime:""}}product;addToCartEvent=new J;titleComponent;elem;static \u0275fac=function(e){return new(e||t)(m(L))};static \u0275cmp=f({type:t,selectors:[["product-card"]],viewQuery:function(e,o){if(e&1&&(b(s,5),b(vt,5)),e&2){let c;C(c=v())&&(o.titleComponent=c.first),C(c=v())&&(o.elem=c.first)}},inputs:{product:"product"},outputs:{addToCartEvent:"addToCartEvent"},standalone:!1,decls:17,vars:17,consts:[["productImageBlock",""],["defaultImageBlock",""],["elem",""],[1,"products-item"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"title"],[1,"product-text"],[1,"product-action"],["routerLink","/order",1,"btn","btn-add-to-cart",3,"queryParams"],[1,"btn","btn-white",3,"routerLink"],[1,"product-image"],[3,"src"],["src","assets/images/pizzzzza.png"]],template:function(e,o){if(e&1&&(r(0,"div",3),g(1,_t,1,0,"div",4)(2,ht,2,1,"ng-template",null,0,h)(4,It,2,0,"ng-template",null,1,h),u(6,"custom-title",5),_(7,"uppercase"),r(8,"div",6),d(9),_(10,"wordUpper"),n(),r(11,"div",7,2)(13,"a",8),d(14,"\u0412 \u043A\u043E\u0440\u0437\u0438\u043D\u0443"),n(),r(15,"a",9),d(16,"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"),n()()()),e&2){let c=x(3),l=x(5);p(),a("ngIf",o.product.image)("ngIfThen",c)("ngIfElse",l),p(5),a("title",B(7,7,o.product.title)),p(3),y(" ",z(10,9,o.product.description,k(12,Pt))," "),p(4),a("queryParams",M(13,xt,o.product.title)),p(2),a("routerLink",M(15,yt,o.product.id))}},dependencies:[I,j,s,D,E],styles:[".products-item[_ngcontent-%COMP%]{width:282px;background-color:#fff;box-shadow:0 3px 13.8px 1.2px #98989833;text-align:center;padding:20px 15px;box-sizing:border-box;margin-bottom:24px}.product-image[_ngcontent-%COMP%]{height:180px;display:flex;align-items:center;justify-content:center}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.product-text[_ngcontent-%COMP%]{font-size:14px;color:#181a1a;line-height:1.286;height:49px;margin:14px 0 15px}.product-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:242px;height:50px;padding:18px}.product-action[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-action[_ngcontent-%COMP%]   .btn.btn-white[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 1229px){.products-item[_ngcontent-%COMP%]{margin:12px}}"]})};function bt(t,i){if(t&1&&u(0,"product-card",6),t&2){let e=i.$implicit;a("product",e)}}function Mt(t,i){t&1&&(r(0,"div",7),u(1,"div",8),n())}var A=class t{constructor(i,e,o){this.productService=i;this.router=e;this.http=o}products=[];loading=!1;ngOnInit(){this.loading=!0,this.productService.getProducts().pipe(W(()=>{this.loading=!1})).subscribe({next:i=>{this.products=i},error:i=>{console.log(i),this.router.navigate(["/"])}})}static \u0275fac=function(e){return new(e||t)(m(Q),m(N),m(tt))};static \u0275cmp=f({type:t,selectors:[["app-products"]],standalone:!1,decls:7,vars:2,consts:[["id","products",1,"products"],[1,"container"],["id","products-title",1,"products-title"],[1,"products-items"],[3,"product",4,"ngFor","ngForOf"],["class","loader-bg",4,"ngIf"],[3,"product"],[1,"loader-bg"],[1,"loader"]],template:function(e,o){e&1&&(r(0,"section",0)(1,"article",1)(2,"h1",2),d(3," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043E\u044E \u043B\u044E\u0431\u0438\u043C\u0443\u044E \u043F\u0438\u0446\u0446\u0443 "),n(),r(4,"div",3),g(5,bt,1,1,"product-card",4),n(),g(6,Mt,2,0,"div",5),n()()),e&2&&(p(5),a("ngForOf",o.products),p(),a("ngIf",o.loading))},dependencies:[Y,I,q],encapsulation:2})};var Tt=[{path:"",component:A},{path:":id",component:U}],T=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=R({type:t});static \u0275inj=S({imports:[H.forChild(Tt),H]})};var at=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=R({type:t});static \u0275inj=S({imports:[Z,ot,T,T]})};export{at as ProductsModule};
